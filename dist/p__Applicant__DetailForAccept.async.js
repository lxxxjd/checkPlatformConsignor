(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{UuIg:function(e,t,a){"use strict";a.r(t);a("g9YV");var n,l,r,c=a("wCAj"),o=(a("IzEo"),a("bx4M")),i=(a("bP8k"),a("gFTJ")),s=(a("/zsF"),a("PArb")),d=(a("2qtc"),a("kLXV")),m=(a("14J3"),a("BMrR")),p=(a("+L6B"),a("2/Rp")),u=(a("Pwec"),a("CtXQ")),E=(a("jCWc"),a("kPKH")),g=a("2Taf"),b=a.n(g),h=a("vZ4D"),f=a.n(h),y=a("l4Ni"),v=a.n(y),I=a("ujKo"),w=a.n(I),k=a("MhPg"),C=a.n(k),x=(a("tU7J"),a("wFql")),S=a("q1tI"),Y=a.n(S),M=a("MuoO"),P=a("zHco"),z=a("wd/R"),A=a.n(z),D=a("TNiW"),q=a("8kut"),B=a.n(q),F=x["a"].Title,O=(n=Object(M["connect"])(function(e){var t=e.applicant,a=e.loading;return{applicant:t,loading:a.models.applicant}}),n((r=function(e){function t(){var e,a;b()(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=v()(this,(e=w()(t)).call.apply(e,[this].concat(l))),a.state={visible:!1,showVisible:!1,url:"",report:{},cnasInfo:{checkcode:"",checkname:"",domaincode:"",domainname:"",subdomaincode:"",subdomainname:""},records:[]},a.columns=[{title:"\u8bb0\u5f55\u540d",dataIndex:"recordname",render:function(e){var t=/\.{1}[a-z]{1,}$/;return null!==t.exec(e)?Y.a.createElement("span",null,e.slice(0,t.exec(e).index)):Y.a.createElement("span",null,e)}},{title:"\u4e0a\u4f20\u65e5\u671f",dataIndex:"recorddate",render:function(e){return Y.a.createElement("span",null,A()(e).format("YYYY-MM-DD"))}},{title:"\u64cd\u4f5c",render:function(e,t){return Y.a.createElement(S["Fragment"],null,Y.a.createElement("a",{onClick:function(){return a.previewItem(e,t)}},"\u67e5\u770b"))}}],a.previewItem=function(e){var t=a.props.dispatch,n=e.filepath;if(void 0!==n&&null!==n){var l=n.substring(n.lastIndexOf(".")+1);if("pdf"===l)t({type:"applicant/getOssPdf",payload:{osspath:n},callback:function(e){if(console.log(e),400===e.code)notification.open({message:"\u6253\u5f00\u5931\u8d25",description:e.data});else{var t=e.data;a.setState({url:t}),console.log(t),window.open(t)}}});else{var r="https://www.smlq.vip/api/cert_report/getFileStream?osspath=".concat(n);window.open(r)}}},a.handleOk=function(e){console.log(e);var t=a.props,n=t.dispatch,l=(t.match,sessionStorage.getItem("reportno"));n({type:"applicant/remove",payload:{reportno:l}}),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.deleteReport=function(){a.setState({visible:!0})},a.back=function(){a.props.history.goBack()},a.showCancel=function(){a.setState({showVisible:!1})},a.getPlaceFromCode=function(e){var t="".concat(e.substring(0,2),"0000"),a="".concat(e.substring(0,4),"00"),n=e,l=D["a"].find(function(e){return e.value===t});if(void 0===l)return Y.a.createElement("span",null,n);var r=l.children.find(function(e){return e.value===a}),c=r.children.find(function(e){return e.value===n});return Y.a.createElement("span",null,l.label,"/",r.label,"/",c.label)},a}return C()(t,e),f()(t,[{key:"componentWillMount",value:function(){var e=this,t=sessionStorage.getItem("reportno"),a=this.props.dispatch;a({type:"applicant/getReportInfo",payload:{reportno:t},callback:function(t){var n=t.data;e.setState({report:t.data}),void 0!==n.cnasCode&&null!==n.cnasCode&&"1"===n.iscnas&&a({type:"applicant/getCnasInfo",payload:{checkCode:n.cnasCode},callback:function(t){200===t.code&&e.setState({cnasInfo:t.data})}})}}),a({type:"applicant/getRecordInfo",payload:{reportno:t,source:"\u59d4\u6258"},callback:function(t){200===t.code&&e.setState({records:t.data})}})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.applicant.report,n=t.dispatch;void 0!==a.cnasCode&&null!==a.cnasCode&&1===a.iscnas&&n({type:"applicant/getCnasInfo",payload:{checkCode:a.cnasCode},callback:function(t){200===t.code&&e.setState({cnasInfo:t.data})}})}},{key:"render",value:function(){var e=this.props.loading,t=this.state,a=t.showVisible,n=t.url,l=t.cnasInfo,r=t.report,g=t.records,b=sessionStorage.getItem("accept_namec");return Y.a.createElement(P["a"],{loading:e},Y.a.createElement(o["a"],{bordered:!1},Y.a.createElement(m["a"],{gutter:16},Y.a.createElement(E["a"],{span:3},Y.a.createElement(F,{level:3},"\u59d4\u6258\u8be6\u60c5")),Y.a.createElement(E["a"],{span:19}),Y.a.createElement(E["a"],{span:2},Y.a.createElement(p["a"],{type:"primary",style:{marginLeft:8,paddingLeft:0,paddingRight:15},onClick:this.back},Y.a.createElement(u["a"],{type:"left"}),"\u8fd4\u56de"))),Y.a.createElement(d["a"],{title:"\u786e\u8ba4",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},Y.a.createElement("p",null,"\u662f\u5426\u64a4\u9500")),Y.a.createElement(s["a"],{style:{marginBottom:32}}),Y.a.createElement(i["a"],{size:"large",title:"\u4e1a\u52a1\u4fe1\u606f",style:{marginBottom:32},bordered:!0},Y.a.createElement(i["a"].Item,{label:"\u59d4\u6258\u7f16\u53f7"},r.reportno),Y.a.createElement(i["a"].Item,{label:"\u59d4\u6258\u65e5\u671f"},A()(r.reportdate).format("YYYY-MM-DD")),Y.a.createElement(i["a"].Item,{label:"\u68c0\u9a8c\u8d39"},r.price),Y.a.createElement(i["a"].Item,{label:"\u7533\u8bf7\u4eba"},r.applicant),Y.a.createElement(i["a"].Item,{label:"\u8054\u7cfb\u4eba"},r.applicantname),Y.a.createElement(i["a"].Item,{label:"\u8054\u7cfb\u7535\u8bdd"},r.applicanttel),Y.a.createElement(i["a"].Item,{label:"\u4ee3\u7406\u4eba"},r.agent),Y.a.createElement(i["a"].Item,{label:"\u8054\u7cfb\u4eba"},r.agentname),Y.a.createElement(i["a"].Item,{label:"\u8054\u7cfb\u7535\u8bdd"},r.agenttel),Y.a.createElement(i["a"].Item,{label:"\u4ed8\u6b3e\u4eba"},r.payer),Y.a.createElement(i["a"].Item,{label:"\u8bc1\u4e66\u8981\u6c42"},r.certstyle),Y.a.createElement(i["a"].Item,{label:"\u6267\u884c\u90e8\u95e8"},r.section),Y.a.createElement(i["a"].Item,{label:"\u68c0\u9a8c\u673a\u6784"},b),Y.a.createElement(i["a"].Item,{label:"\u62a5\u5173\u53f7"},r.customsNo),Y.a.createElement(i["a"].Item,{label:"\u6d77\u5173\u90e8\u95e8"},r.customsName)),Y.a.createElement(s["a"],{style:{marginBottom:32}}),Y.a.createElement(i["a"],{size:"large",title:"\u68c0\u67e5\u5bf9\u8c61",style:{marginBottom:32},bordered:!0},Y.a.createElement(i["a"].Item,{label:"\u8d27\u540d"},r.cargoname),Y.a.createElement(i["a"].Item,{label:"\u4e2d\u6587\u4fd7\u540d"},r.chineselocalname),Y.a.createElement(i["a"].Item,{label:"\u8239\u540d\u6807\u8bc6"},r.shipname),Y.a.createElement(i["a"].Item,{label:"\u7533\u62a5\u6570\u91cf"},void 0===r.quantityd||null===r.quantityd?"":r.quantityd+r.unit),Y.a.createElement(i["a"].Item,{label:"\u68c0\u9a8c\u65f6\u95f4"},A()(r.inspdate).format("YYYY-MM-DD")),Y.a.createElement(i["a"].Item,{label:"\u68c0\u67e5\u6e2f\u53e3"},r.inspplace2),Y.a.createElement(i["a"].Item,{label:"\u5230\u8fbe\u5730\u70b9"},void 0===r.inspplace1||null===r.inspplace1?"":this.getPlaceFromCode(r.inspplace1)))),Y.a.createElement(o["a"],{title:"\u68c0\u67e5\u9879\u76ee",className:B.a.card,bordered:!1},Y.a.createElement("table",{width:"100%",border:1},Y.a.createElement("tr",null,Y.a.createElement("td",{width:"8%",style:{backgroundColor:"#E5E5E5",textAlign:"center",padding:"10px"}},"\u8ba4\u53ef\u9886\u57df\u53ca\u4ee3\u7801"),Y.a.createElement("td",{width:"8%",style:{backgroundColor:"#E5E5E5",textAlign:"center",padding:"10px"}},"\u8ba4\u53ef\u5b50\u9886\u57df\u4ee3\u7801"),Y.a.createElement("td",{width:"12%",style:{backgroundColor:"#E5E5E5",textAlign:"center",padding:"10px"}}," \u68c0\u67e5\u9886\u57df/\u68c0\u67e5\u5bf9\u8c61\u53ca\u4ee3\u7801"),Y.a.createElement("td",{width:"15%",style:{backgroundColor:"#E5E5E5",textAlign:"center",padding:"10px"}},"\u68c0\u67e5\u9879\u76ee\u53ca\u4ee3\u7801"),Y.a.createElement("td",{style:{backgroundColor:"#E5E5E5",textAlign:"center",padding:"10px"}}," \u68c0\u67e5\u9879\u76ee\u8be6\u7ec6\u63cf\u8ff0")),Y.a.createElement("tr",null,Y.a.createElement("td",{style:{padding:"10px"}},l.domaincode,Y.a.createElement("br",null),l.domainname),Y.a.createElement("td",{style:{padding:"10px"}},l.subdomaincode,Y.a.createElement("br",null),l.subdomainname),Y.a.createElement("td",{style:{padding:"10px"}},l.checkcode,Y.a.createElement("br",null),l.checkname),Y.a.createElement("td",{style:{padding:"10px"}},r.cnasProject),Y.a.createElement("td",{style:{padding:"10px"}},Y.a.createElement(m["a"],null,Y.a.createElement(E["a"],{span:24},Y.a.createElement("span",null,"\u7533\u8bf7\u9879\u76ee:",r.inspway))),Y.a.createElement(m["a"],null,Y.a.createElement(E["a"],{span:24},Y.a.createElement("span",null,"\u68c0\u9a8c\u5907\u6ce8:",r.inspwaymemo1))))))),Y.a.createElement(o["a"],{bordered:!1,title:"\u9644\u4ef6"},Y.a.createElement("div",null,Y.a.createElement(c["a"],{size:"middle",loading:e,dataSource:g,columns:this.columns,rowKey:"recordname",pagination:{showQuickJumper:!0,showSizeChanger:!0}}))),Y.a.createElement(d["a"],{title:"\u8bb0\u5f55\u8be6\u60c5",visible:a,onCancel:this.showCancel,footer:null,width:800,style:{top:10}},Y.a.createElement("embed",{src:n,style:{width:"100%",height:.8*document.body.clientHeight},type:"application/pdf"})))}}]),t}(S["Component"]),l=r))||l);t["default"]=O}}]);