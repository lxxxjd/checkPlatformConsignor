(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{iu07:function(e,a,t){"use strict";t.r(a);t("IzEo");var n,r,l,o,i=t("bx4M"),c=(t("2qtc"),t("kLXV")),s=(t("g9YV"),t("wCAj")),p=(t("14J3"),t("BMrR")),m=(t("+L6B"),t("2/Rp")),u=(t("5NDa"),t("5rEg")),d=(t("jCWc"),t("kPKH")),h=(t("/xke"),t("TeRw")),f=t("p0pE"),g=t.n(f),v=t("2Taf"),E=t.n(v),y=t("vZ4D"),k=t.n(y),I=t("l4Ni"),S=t.n(I),b=t("ujKo"),C=t.n(b),w=t("MhPg"),M=t.n(w),N=(t("OaEy"),t("2fM7")),F=(t("y8nQ"),t("Vl3Y")),L=t("q1tI"),O=t.n(L),D=t("MuoO"),x=t("usdK"),V=t("zHco"),A=t("Lk6d"),J=t.n(A),P=t("wd/R"),R=t.n(P),K=F["a"].Item,Y=N["a"].Option,z=(n=Object(D["connect"])(function(e){var a=e.applicant,t=e.loading;return{applicant:a,loading:t.models.applicant}}),r=F["a"].create(),n(l=r((o=function(e){function a(){var e,t;E()(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=S()(this,(e=C()(a)).call.apply(e,[this].concat(r))),t.state={visible:!1,prereportno:null,kindValue:"p.certcode",company:[]},t.columns=[{title:"\u68c0\u9a8c\u65e5\u671f",dataIndex:"inspdate",render:function(e){return O.a.createElement("span",null,R()(e).format("YYYY-MM-DD"))}},{title:"\u68c0\u9a8c\u673a\u6784",dataIndex:"namec"},{title:"\u8239\u540d\u6807\u8bc6",dataIndex:"shipname"},{title:"\u8d27\u540d",dataIndex:"chineselocalname"},{title:"\u72b6\u6001",dataIndex:"overallstate"},{title:"\u64cd\u4f5c",render:function(e,a){return O.a.createElement(L["Fragment"],null,"\u672a\u53d7\u7406"===e.overallstate?[O.a.createElement("a",{onClick:function(){return t.modifyItem(e,a)}},"\u4fee\u6539\xa0\xa0")]:[],"\u672a\u53d7\u7406"===e.overallstate?[O.a.createElement("a",{onClick:function(){return t.deleteItem(e,a)}},"\u64a4\u56de\xa0\xa0")]:[],"\u672a\u53d7\u7406"===e.overallstate?[O.a.createElement("a",{onClick:function(){return t.uploadItem(e,a)}},"\u9644\u4ef6\u7f16\u8f91\xa0\xa0")]:[],O.a.createElement("a",{onClick:function(){return t.previewItem(e,a)}},"\u7533\u8bf7\u8be6\u60c5"))}}],t.deleteItem=function(e){t.setState({visible:!0}),t.setState({prereportno:e.prereportno})},t.uploadItem=function(e){sessionStorage.setItem("prereportno",e.prereportno),sessionStorage.setItem("applicant",e.applicant),x["a"].push({pathname:"/Applicant/ModifyRecord"})},t.previewItem=function(e){sessionStorage.setItem("prereportno",e.prereportno),x["a"].push({pathname:"/Applicant/DetailForUnAccept"})},t.modifyItem=function(e){sessionStorage.setItem("prereportno",e.prereportno),x["a"].push({pathname:"/Applicant/ModifyApplication"})},t.handleFormReset=function(){var e=JSON.parse(localStorage.getItem("consignor_userinfo")),a={consigoruser:e.userName},n=t.props.form;n.resetFields();var r=t.props.dispatch;r({type:"applicant/getPremaininfoList",payload:a}),t.setState({kindValue:"p.certcode"})},t.handleSearch=function(e){e.preventDefault();var a=t.props,n=a.dispatch,r=a.form;r.validateFields(function(e,a){if(console.log(e),!e){var t=JSON.parse(localStorage.getItem("consignor_userinfo")),r=g()({},a,{kind:a.kind,value:a.value,consigoruser:t.userName});n({type:"applicant/getPremaininfoList",payload:r})}})},t.handleCancel=function(){t.setState({visible:!1})},t.handleOk=function(){var e=t.state.prereportno,a=t.props.dispatch;a({type:"applicant/deletePremaininfo",payload:{prereportno:e},callback:function(e){200===e.code?(h["a"].open({message:"\u5220\u9664\u6210\u529f"}),t.componentDidMount()):h["a"].open({message:"\u5220\u9664\u5931\u8d25",description:e.data})}}),t.setState({visible:!1}),t.setState({prereportno:null})},t.onChangeKind=function(e){t.setState({kindValue:e})},t}return M()(a,e),k()(a,[{key:"componentDidMount",value:function(){var e=this,a=JSON.parse(localStorage.getItem("consignor_userinfo")),t=this.props.dispatch,n={consigoruser:a.userName};t({type:"applicant/getPremaininfoList",payload:n}),t({type:"applicant/getCompanyList",payload:{},callback:function(a){e.setState({company:a.data})}})}},{key:"renderSimpleForm",value:function(){var e=this.props.form.getFieldDecorator,a=this.state,t=a.kindValue,n=a.company,r=n.map(function(e){return O.a.createElement(Y,{key:e.certcode,value:e.certcode},e.namec)});return O.a.createElement(F["a"],{onSubmit:this.handleSearch,layout:"inline"},O.a.createElement(p["a"],{gutter:{md:8,lg:24,xl:48}},O.a.createElement(d["a"],{md:3,sm:20},O.a.createElement(F["a"].Item,{labelCol:{span:5},wrapperCol:{span:6},colon:!1},e("kind",{initialValue:"p.certcode",rules:[{message:"\u641c\u7d22\u7c7b\u578b"}]})(O.a.createElement(N["a"],{placeholder:"\u641c\u7d22\u7c7b\u578b",onChange:this.onChangeKind},O.a.createElement(Y,{value:"p.certcode"},"\u68c0\u9a8c\u673a\u6784"),O.a.createElement(Y,{value:"shipname"},"\u8239\u540d\u6807\u8bc6"),O.a.createElement(Y,{value:"chineselocalname"},"\u8d27\u540d"),O.a.createElement(Y,{value:"overallstate"},"\u72b6\u6001"))))),O.a.createElement(d["a"],{md:8,sm:20},"p.certcode"===t?[O.a.createElement(K,null,e("value",{rules:[{message:"\u641c\u7d22\u6570\u636e"}]})(O.a.createElement(N["a"],{placeholder:"\u8bf7\u9009\u62e9\u68c0\u9a8c\u673a\u6784"},r)))]:[O.a.createElement(K,null,e("value",{rules:[{message:"\u641c\u7d22\u6570\u636e"}]})(O.a.createElement(u["a"],{placeholder:"\u8bf7\u8f93\u5165"})))]),O.a.createElement(d["a"],{md:8,sm:20},O.a.createElement("span",{className:J.a.submitButtons},O.a.createElement(m["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),O.a.createElement(m["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e")))))}},{key:"render",value:function(){var e=this.props,a=e.applicant.preMainInfoList,t=e.loading,n=this.state.visible;return O.a.createElement(V["a"],null,O.a.createElement(i["a"],{size:"small",bordered:!1},O.a.createElement("div",null,O.a.createElement("div",{className:J.a.tableListForm},this.renderSimpleForm()),O.a.createElement(s["a"],{size:"middle",className:J.a.antTable,rowClassName:J.a.antTable2,loading:t,rowKey:"prereportno",dataSource:a,columns:this.columns,pagination:{showQuickJumper:!0,showSizeChanger:!0}})),O.a.createElement(c["a"],{title:"\u786e\u8ba4\u64a4\u56de",visible:n,onOk:this.handleOk,onCancel:this.handleCancel})))}}]),a}(L["PureComponent"]),l=o))||l)||l);a["default"]=z}}]);